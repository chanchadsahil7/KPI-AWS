{% extends "kpi_app/home.html" %}

<html>
  <head>
    <title>
    </title>
  </head>
  <body>
<form method="POST">
{% csrf_token %}
    {% block body %}
    <div class="container">
     <section id="footer">
    <div class="row text-center">
    <div class="col-lg-12 col-md-12 col-sm-12">
        <div class="panel panel-primary">
          <div class="panel panel-heading"><b>BCA</b></div>
          <div class="panel panel-body" id ="chart_div">
              <!--Load the AJAX API-->
                <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
                   <script type="text/javascript">
                  google.charts.load('current', {'packages':['corechart']});
                  google.charts.setOnLoadCallback(drawVisualization);


                  function drawVisualization() {
                    // Some raw data (not necessarily accurate)
                     // Create the data table.
                    var records = {{report_dict|safe}};
                    var average1 = {{header_dict|safe}};

                    //document.write(records);
                    //document.write(average1['Hackerrank Algorithm Score']);
                    var data = new google.visualization.DataTable();
                    data.addColumn('string', 'Subject');
                    data.addColumn('number', 'Score');
                    var result = '';
                    var x = 1;
                    /*for (x in records.keys())
                    {
                      document.write(records[x]);
                    }*/
                     var distinct = [];
                     var scores = [];
                     var temp = 0;
                     var semandsub= [];

                    /*for(var i= 0; i < records.length; i++)
                    {
                      data.addRow([records[i].Subject, records[i].Marks]);
                    }*/
                    for ( var i= 0; i < records.length; i++)
                    { 
                     if(records[i].Sem == "Sem I" && !(distinct.includes(records[i].Subject)))
                     {
                      
                      distinct.push(records[i].Subject);
                                              
                  
                     }
                     
                      
                    }

                   for ( var i= 0; i < distinct.length; i++)
                    { 
                      temp=0;                      
                      for ( var j= 0; j < records.length; j++)
                      {

                        if (records[j].Subject == distinct[i])
                        {
                            temp += records[j].Marks;
                          
                        }
                      }
                      scores.push({
                                      key:  distinct[i] ,
                                      value: temp,
                                  });
                      
                    }

                    

                    for ( var i= 0; i < scores.length; i++)
                    {

                     data.addRow([scores[i].key, scores[i].value]);                      
                    }

                    



                var options = {
                  title : "Sem II",
                  seriesType: 'bars',
                  colors: ['#429e8e','#9aa09d'],
                  series: {1: {type: 'line'}}
                };

                var chart = new google.visualization.ComboChart(document.getElementById('chart_div'));
                chart.draw(data, options);
              }
              </script>
          </div>
        </div>
        </div>
        </div>
        </section>
        </div>
        <div class="container">
     <section id="footer">
    <div class="row text-center">
    <div class="col-lg-12 col-md-12 col-sm-12">
        <div class="panel panel-primary">
          <div class="panel panel-heading"><b>BBA</b></div>
          <div class="panel panel-body" id ="chart_div1">
              <!--Load the AJAX API-->
                <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
                   <script type="text/javascript">
                  google.charts.load('current', {'packages':['corechart']});
                  google.charts.setOnLoadCallback(drawVisualization);


                  function drawVisualization() {
                    // Some raw data (not necessarily accurate)
                     // Create the data table.
                    var records = {{report_dict|safe}};
                    var average1 = {{header_dict|safe}};

                    //document.write(records);
                    //document.write(average1['Hackerrank Algorithm Score']);
                    var data = new google.visualization.DataTable();
                    data.addColumn('string', 'Subject');
                    data.addColumn('number', 'Score');
                    var result = '';
                    var x = 1;
                    /*for (x in records.keys())
                    {
                      document.write(records[x]);
                    }*/
                     var distinct = [];
                     var scores = [];
                     var temp = 0;
                     var semandsub= [];

                    /*for(var i= 0; i < records.length; i++)
                    {
                      data.addRow([records[i].Subject, records[i].Marks]);
                    }*/
                    for ( var i= 0; i < records.length; i++)
                    { 
                     if(records[i].Sem == "Sem II" && !(distinct.includes(records[i].Subject)))
                     {
                      
                      distinct.push(records[i].Subject);
                                              
                  
                     }
                     
                      
                    }

                   for ( var i= 0; i < distinct.length; i++)
                    { 
                      temp=0;                      
                      for ( var j= 0; j < records.length; j++)
                      {

                        if (records[j].Subject == distinct[i])
                        {
                            temp += records[j].Marks;
                          
                        }
                      }
                      scores.push({
                                      key:  distinct[i] ,
                                      value: temp,
                                  });
                      
                    }

                    

                    for ( var i= 0; i < scores.length; i++)
                    {

                     data.addRow([scores[i].key, scores[i].value]);                      
                    }

                    



                var options = {
                  title : "Sem II",
                  seriesType: 'bars',
                  colors: ['#429e8e','#9aa09d'],
                  series: {1: {type: 'line'}}
                };

                var chart = new google.visualization.ComboChart(document.getElementById('chart_div1'));
                chart.draw(data, options);
              }
              </script>
          </div>
        </div>
        </div>
        </div>
        </section>
        </div>
        <div class="container">
     <section id="footer">
    <div class="row text-center">
    <div class="col-lg-12 col-md-12 col-sm-12">
        <div class="panel panel-primary">
          <div class="panel panel-heading"><b>BCOM</b></div>
          <div class="panel panel-body" id ="chart_div2">
              <!--Load the AJAX API-->
                <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
                    <script type="text/javascript">
                  google.charts.load('current', {'packages':['corechart']});
                  google.charts.setOnLoadCallback(drawVisualization);


                  function drawVisualization() {
                    // Some raw data (not necessarily accurate)
                     // Create the data table.
                    var records = {{report_dict|safe}};
                    var average1 = {{header_dict|safe}};

                    //document.write(records);
                    //document.write(average1['Hackerrank Algorithm Score']);
                    var data = new google.visualization.DataTable();
                    data.addColumn('string', 'Subject');
                    data.addColumn('number', 'Score');
                    var result = '';
                    var x = 1;
                    /*for (x in records.keys())
                    {
                      document.write(records[x]);
                    }*/
                     var distinct = [];
                     var scores = [];
                     var temp = 0;
                     var semandsub= [];

                    /*for(var i= 0; i < records.length; i++)
                    {
                      data.addRow([records[i].Subject, records[i].Marks]);
                    }*/
                    for ( var i= 0; i < records.length; i++)
                    { 
                     if(records[i].Sem == "Sem III" && !(distinct.includes(records[i].Subject)))
                     {
                      
                      distinct.push(records[i].Subject);
                                              
                  
                     }
                     
                      
                    }

                   for ( var i= 0; i < distinct.length; i++)
                    { 
                      temp=0;                      
                      for ( var j= 0; j < records.length; j++)
                      {

                        if (records[j].Subject == distinct[i])
                        {
                            temp += records[j].Marks;
                          
                        }
                      }
                      scores.push({
                                      key:  distinct[i] ,
                                      value: temp,
                                  });
                      
                    }

                    

                    for ( var i= 0; i < scores.length; i++)
                    {

                     data.addRow([scores[i].key, scores[i].value]);                      
                    }

                    



                var options = {
                  title : "Sem III",
                  seriesType: 'bars',
                  colors: ['#429e8e','#9aa09d'],
                  series: {1: {type: 'line'}}
                };

                var chart = new google.visualization.ComboChart(document.getElementById('chart_div2'));
                chart.draw(data, options);
              }
              </script>
          </div>
        </div>
        </div>
        </div>
        </section>
        </div>    
        {% endblock %}
    <div class="container">
    <script type="text/javascript" src="//code.jquery.com/jquery-latest.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/css/bootstrap-select.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/bootstrap-select.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/i18n/defaults-*.min.js"></script>

</div>
</form>
  </body>
</html>